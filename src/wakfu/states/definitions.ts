import { EnumWakfuState, type TWakfuStateDefinition } from "./types";

export const WakfuStatesDefinitions: Record<EnumWakfuState, TWakfuStateDefinition> = {
  [EnumWakfuState.EtoiEskeutula]: {
    id: 1348,
    levelMax: 1,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.AuraDeLamour]: {
    id: 1354,
    levelMax: 1,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.PeaceAndLove]: {
    id: 1355,
    levelMax: 1,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.LeDemiPayAime]: {
    id: 1583,
    levelMax: 1,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.EmblemeIop]: {
    id: 1608,
    levelMax: 2,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.EmblemeCra]: {
    id: 1609,
    levelMax: 2,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.EmblemeSacrieur]: {
    id: 1610,
    levelMax: 2,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.EmblemeEcaflip]: {
    id: 1611,
    levelMax: 2,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.EmblemeEniripsa]: {
    id: 1612,
    levelMax: 2,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.EmblemeSadida]: {
    id: 1613,
    levelMax: 2,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.EmblemeXelor]: {
    id: 1614,
    levelMax: 2,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.EmblemeEnutrof]: {
    id: 1615,
    levelMax: 2,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.EmblemeRoublard]: {
    id: 1616,
    levelMax: 2,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.EmblemePandawa]: {
    id: 1617,
    levelMax: 2,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.EmblemeFeca]: {
    id: 1618,
    levelMax: 2,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.EmblemeOsamodas]: {
    id: 1619,
    levelMax: 2,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.EmblemeSteamer]: {
    id: 1620,
    levelMax: 2,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.EmblemeSram]: {
    id: 1621,
    levelMax: 2,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.EmblemeZobal]: {
    id: 3233,
    levelMax: 2,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.InsigneMerydes]: {
    id: 2064,
    levelMax: 1,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.Muraille50]: {
    id: 2413,
    levelMax: 100,
    effects: [{ value: 0, levelScaling: 1 }],
  },
  [EnumWakfuState.Muraille75]: {
    id: 2570,
    levelMax: 100,
    effects: [{ value: 0, levelScaling: 1 }],
  },
  [EnumWakfuState.Vivacite90]: {
    id: 2514,
    levelMax: 100,
    effects: [{ value: 0, levelScaling: 1 }],
  },
  [EnumWakfuState.Requinquage25]: {
    id: 2574,
    levelMax: 100,
    effects: [{ value: 0, levelScaling: 40 }],
  },
  [EnumWakfuState.Requinquage33]: {
    id: 2572,
    levelMax: 100,
    effects: [{ value: 0, levelScaling: 25 }],
  },
  [EnumWakfuState.Requinquage50]: {
    id: 2411,
    levelMax: 100,
    effects: [{ value: 0, levelScaling: 40 }],
  },
  [EnumWakfuState.Requinquage66]: {
    id: 2572,
    levelMax: 100,
    effects: [{ value: 0, levelScaling: 25 }],
  },
  [EnumWakfuState.Requinquage75]: {
    id: 2573,
    levelMax: 100,
    effects: [{ value: 0, levelScaling: 40 }],
  },
  [EnumWakfuState.TransfertTellurique]: {
    id: 2636,
    levelMax: 1,
    effects: [
      { value: 0, levelScaling: 1 },
      { value: 0, levelScaling: 3 },
    ],
  },
  [EnumWakfuState.Berserk50]: {
    id: 2515,
    levelMax: 100,
    effects: [{ value: 0, levelScaling: 1 }],
  },
  [EnumWakfuState.Berserk75]: {
    id: 2571,
    levelMax: 100,
    effects: [{ value: 0, levelScaling: 1 }],
  },
  [EnumWakfuState.Rage]: {
    id: 2512,
    levelMax: 100,
    effects: [{ value: 0, levelScaling: 0.1 }],
  },
  [EnumWakfuState.Fortification]: {
    id: 2505,
    levelMax: 100,
    effects: [{ value: 0, levelScaling: 0.01 }],
  },
  [EnumWakfuState.PacteAnatharI]: {
    id: 7069,
    levelMax: 1,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.PacteAnatharII]: {
    id: 7070,
    levelMax: 1,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.PacteAnatharIII]: {
    id: 7071,
    levelMax: 1,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.PacteAnatharIV]: {
    id: 7072,
    levelMax: 1,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.PacteAnatharV]: {
    id: 7073,
    levelMax: 1,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.Eternite]: {
    id: 5886,
    levelMax: 1,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.Dofushu]: {
    id: 7106,
    levelMax: 1,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.DofusIvoire]: {
    id: 8251,
    levelMax: 1,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.DofusPrismatique]: {
    id: 4570,
    levelMax: 1,
    effects: [{ value: 0, levelScaling: 0 }],
  },
  [EnumWakfuState.DofusTurquoise]: {
    id: 6731,
    levelMax: 1,
    effects: [{ value: 0, levelScaling: 0 }],
  },
};

export const WakfuStateActionId = 304;

export const getWakfuState = (level: number, params: number[]) => {
  for (const state of Object.values(EnumWakfuState)) {
    if (WakfuStatesDefinitions[state].id === params[0]) {
      return { state: state, level: Math.min(params[2] + params[3] * level, WakfuStatesDefinitions[state].levelMax) };
    }
  }
  return null;
};
